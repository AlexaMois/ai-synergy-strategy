import {
  Accordion,
  AccordionContent,
  AccordionItem,
  AccordionTrigger,
} from "@/components/ui/accordion";
import { Button } from "@/components/ui/button";
import { useMobileAnimations } from "@/hooks/use-mobile-animations";
import { ArrowRight } from "lucide-react";
import { JSX } from "react";
import { useNavigate, useLocation } from "react-router-dom";
import { trackCTAClick } from "@/utils/analytics";

const FAQ = () => {
  const { ref, getStaggeredClass, getAnimationClass } = useMobileAnimations({ threshold: 0.2 });
  const navigate = useNavigate();
  const location = useLocation();

  const scrollToContact = () => {
    trackCTAClick({ location: 'faq' });
    
    if (location.pathname !== '/') {
      navigate('/#contact');
      return;
    }
    const element = document.querySelector('#contact');
    if (element) {
      const navHeight = 100;
      const elementPosition = element.getBoundingClientRect().top;
      const offsetPosition = elementPosition + window.pageYOffset - navHeight;
      window.scrollTo({ top: offsetPosition, behavior: "smooth" });
    }
  };

  const faqs: { question: string; answer: JSX.Element }[] = [
    {
      question: "–°–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –ò–ò –¥–ª—è –±–∏–∑–Ω–µ—Å–∞?",
      answer: (
        <div className="space-y-3">
          <p>–°—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –º–∞—Å—à—Ç–∞–±–∞ –±–∏–∑–Ω–µ—Å–∞ –∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∑–∞–¥–∞—á–∏.</p>
          <p>–ü–æ–¥—Ä–æ–±–Ω–µ–µ ‚Äî –Ω–∞ <a href="/pricing" className="text-primary hover:text-primary/80 underline transition-colors">—Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å —Ü–µ–Ω–∞–º–∏</a>.</p>
        </div>
      ),
    },
    {
      question: "–ö–æ–≥–¥–∞ –æ–∫—É–ø–∞–µ—Ç—Å—è –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –ò–ò?",
      answer: (
        <div className="space-y-3">
          <p>–í –Ω–∞—à–∏—Ö –∫–µ–π—Å–∞—Ö ‚Äî –æ—Ç 1 –¥–æ 3 –º–µ—Å—è—Ü–µ–≤.</p>
          <p>–°—á–∏—Ç–∞–µ–º –æ–∫—É–ø–∞–µ–º–æ—Å—Ç—å –Ω–µ ¬´–≤ —Ç–µ–æ—Ä–∏–∏¬ª, –∞ –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è—Ö:</p>
          <div className="space-y-1">
            <p>‚Ä¢ —ç–∫–æ–Ω–æ–º–∏—è —á–∞—Å–æ–≤ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤</p>
            <p>‚Ä¢ —Å–Ω–∏–∂–µ–Ω–∏–µ –ø–æ—Ç–µ—Ä—å –∑–∞—è–≤–æ–∫</p>
            <p>‚Ä¢ —É—Å–∫–æ—Ä–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–µ–π</p>
            <p>‚Ä¢ —Å–Ω–∏–∂–µ–Ω–∏–µ –±—Ä–∞–∫–∞ –∏ –ø–µ—Ä–µ–¥–µ–ª–æ–∫</p>
          </div>
          <p>–ï—Å–ª–∏ –æ–∫—É–ø–∞–µ–º–æ—Å—Ç—å –¥–æ–ª—å—à–µ 3‚Äì6 –º–µ—Å—è—Ü–µ–≤ ‚Äî –º—ã —á–µ—Å—Ç–Ω–æ –≥–æ–≤–æ—Ä–∏–º, —á—Ç–æ –ø—Ä–æ–µ–∫—Ç –Ω–µ—Ü–µ–ª–µ—Å–æ–æ–±—Ä–∞–∑–µ–Ω.</p>
        </div>
      ),
    },
    {
      question: "–ê –µ—Å–ª–∏ –∫—É–ø–∏—Ç—å –¥–µ—à—ë–≤–æ–≥–æ –±–æ—Ç–∞ –∏–ª–∏ —Å–¥–µ–ª–∞—Ç—å —Å–≤–æ–∏–º–∏ —Å–∏–ª–∞–º–∏?",
      answer: (
        <div className="space-y-3">
          <p>–ú–æ–∂–Ω–æ. –ò–º–µ–Ω–Ω–æ —Ç–∞–∫ —á–∞—â–µ –≤—Å–µ–≥–æ –∏ –¥–µ–ª–∞—é—Ç ‚Äî –¥–æ –ø–µ—Ä–≤–æ–≥–æ –ø–µ—Ä–µ–¥–µ–ª—ã–≤–∞–Ω–∏—è.</p>
          <p className="font-medium">–î–µ—à—ë–≤—ã–π –±–æ—Ç:</p>
          <div className="space-y-1">
            <p>‚Ä¢ –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å—ã</p>
            <p>‚Ä¢ –Ω–µ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è</p>
            <p>‚Ä¢ –ª–æ–º–∞–µ—Ç—Å—è –ø—Ä–∏ —Ä–æ—Å—Ç–µ –Ω–∞–≥—Ä—É–∑–∫–∏</p>
            <p>‚Ä¢ —Ç—Ä–µ–±—É–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ ¬´—Ä—É—á–Ω–æ–≥–æ –¥–æ–ø–∏–ª–∏–≤–∞–Ω–∏—è¬ª</p>
          </div>
          <p>–ú—ã —Ä–µ–≥—É–ª—è—Ä–Ω–æ –≤–∏–¥–∏–º —Å–∏—Ç—É–∞—Ü–∏–∏, –≥–¥–µ: ¬´–î–µ—à–µ–≤–ª–µ –±—ã–ª–æ –Ω–µ –Ω–∞—á–∏–Ω–∞—Ç—å, —á–µ–º –ø–æ—Ç–æ–º –ø–µ—Ä–µ–¥–µ–ª—ã–≤–∞—Ç—å¬ª.</p>
          <p>–ú—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä—É–µ–º –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è, –∞ –Ω–µ –¥–µ–º–æ-–±–æ—Ç–æ–≤.</p>
        </div>
      ),
    },
    {
      question: "–ü–æ–¥–æ–π–¥—ë—Ç –ª–∏ –ò–ò –∏–º–µ–Ω–Ω–æ –Ω–∞—à–µ–π –∫–æ–º–ø–∞–Ω–∏–∏ –∏ –æ—Ç—Ä–∞—Å–ª–∏?",
      answer: (
        <div className="space-y-3">
          <p>–ò–ò –Ω–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª–µ–Ω. –ò–º–µ–Ω–Ω–æ –ø–æ—ç—Ç–æ–º—É –º—ã –Ω–µ –ø—Ä–æ–¥–∞—ë–º —Ä–µ—à–µ–Ω–∏–µ –±–µ–∑ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏.</p>
          <p>–ù–∞ —Å—Ç–∞—Ä—Ç–µ —Ä–∞–∑–±–∏—Ä–∞–µ–º: –≤–∞—à–∏ –ø—Ä–æ—Ü–µ—Å—Å—ã, –¥–∞–Ω–Ω—ã–µ, –ª—é–¥–µ–π, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è.</p>
          <p>–ò –¥–∞—ë–º —á–µ—Å—Ç–Ω—ã–π –æ—Ç–≤–µ—Ç:</p>
          <div className="space-y-1">
            <p>‚Ä¢ –≥–¥–µ –ò–ò –¥–∞—Å—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç</p>
            <p>‚Ä¢ –≥–¥–µ –Ω—É–∂–µ–Ω –ø–æ—Ä—è–¥–æ–∫, –∞ –Ω–µ –Ω–µ–π—Ä–æ—Å–µ—Ç—å</p>
            <p>‚Ä¢ –≥–¥–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –≤–æ–æ–±—â–µ –Ω–µ –Ω—É–∂–Ω–∞</p>
          </div>
          <p>–ò–Ω–æ–≥–¥–∞ –ª—É—á—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç ‚Äî –Ω–µ –Ω–∞—á–∏–Ω–∞—Ç—å –ø—Ä–æ–µ–∫—Ç.</p>
        </div>
      ),
    },
    {
      question: "–ë—É–¥–µ—Ç –ª–∏ —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤?",
      answer: (
        <div className="space-y-3">
          <p>–î–∞ ‚Äî –µ—Å–ª–∏ –≤–Ω–µ–¥—Ä—è—Ç—å –ò–ò ¬´—Å–≤–µ—Ä—Ö—É¬ª.</p>
          <p>–ü–æ—ç—Ç–æ–º—É:</p>
          <div className="space-y-1">
            <p>‚Ä¢ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º –ò–ò –≤ –ø—Ä–∏–≤—ã—á–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (Telegram, Google Sheets, CRM)</p>
            <p>‚Ä¢ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—ã–≥–æ–¥—É –∫–∞–∂–¥–æ–π —Ä–æ–ª–∏</p>
            <p>‚Ä¢ –æ–±—É—á–∞–µ–º –∫–æ–º–∞–Ω–¥—É, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å–∫–∞–µ–º —Å–∏—Å—Ç–µ–º—É</p>
          </div>
          <p>–ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ: –º–µ–Ω–µ–¥–∂–µ—Ä—ã –Ω–µ —Ç–µ—Ä—è—é—Ç –∑–∞—è–≤–∫–∏, –±—É—Ö–≥–∞–ª—Ç–µ—Ä–∏—è –∏–∑–±–∞–≤–ª—è–µ—Ç—Å—è –æ—Ç —Ä—É—á–Ω–æ–π –ø–µ—Ä–≤–∏—á–∫–∏, —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –ø—Ä–æ–∑—Ä–∞—á–Ω—É—é –∞–Ω–∞–ª–∏—Ç–∏–∫—É.</p>
          <p>–í –∏—Ç–æ–≥–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –ø—Ä–æ—Å—è—Ç –æ—Å—Ç–∞–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É, –∞ –Ω–µ —Å–æ–ø—Ä–æ—Ç–∏–≤–ª—è—é—Ç—Å—è –µ–π.</p>
        </div>
      ),
    },
    {
      question: "–ê –µ—Å–ª–∏ –ò–ò –Ω–µ –ø–æ–¥–æ–π–¥—ë—Ç –∏–ª–∏ –Ω–µ –¥–∞—Å—Ç —ç—Ñ—Ñ–µ–∫—Ç?",
      answer: (
        <div className="space-y-3">
          <p>–¢–æ–≥–¥–∞ –≤—ã —É–∑–Ω–∞–µ—Ç–µ —ç—Ç–æ –¥–æ –±–æ–ª—å—à–∏—Ö –∑–∞—Ç—Ä–∞—Ç.</p>
          <p>–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –Ω—É–∂–Ω–∞ –∏–º–µ–Ω–Ω–æ –¥–ª—è —ç—Ç–æ–≥–æ:</p>
          <div className="space-y-1">
            <p>‚Ä¢ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≥–∏–ø–æ—Ç–µ–∑—ã</p>
            <p>‚Ä¢ –ø–æ—Å—á–∏—Ç–∞—Ç—å —ç–∫–æ–Ω–æ–º–∏–∫—É</p>
            <p>‚Ä¢ –Ω–µ —Ç—Ä–∞—Ç–∏—Ç—å –±—é–¥–∂–µ—Ç –≤–ø—É—Å—Ç—É—é</p>
          </div>
          <p>–ú—ã –Ω–µ –ø—Ä–æ–¥–∞—ë–º –ò–ò ¬´–ª—é–±–æ–π —Ü–µ–Ω–æ–π¬ª. –ù–∞—à–∞ –∑–∞–¥–∞—á–∞ ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –∞ –Ω–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ —Ä–∞–¥–∏ –≥–∞–ª–æ—á–∫–∏.</p>
        </div>
      ),
    },
    {
      question: "–ë—É–¥—É –ª–∏ —è –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –≤–∞—Å –ø–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è?",
      answer: (
        <div className="space-y-3">
          <p>–ù–µ—Ç.</p>
          <p>–ú—ã —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –ø—Ä–æ–µ–∫—Ç–∏—Ä—É–µ–º —Å–∏—Å—Ç–µ–º—ã —Ç–∞–∫, —á—Ç–æ–±—ã:</p>
          <div className="space-y-1">
            <p>‚Ä¢ –∫–æ–º–∞–Ω–¥–∞ –ø–æ–Ω–∏–º–∞–ª–∞, –∫–∞–∫ –æ–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç</p>
            <p>‚Ä¢ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ—Å—Ç–∞–≤–∞–ª–∞—Å—å —É –≤–∞—Å</p>
            <p>‚Ä¢ —Ä–µ—à–µ–Ω–∏—è –Ω–µ –¥–µ—Ä–∂–∞–ª–∏—Å—å –Ω–∞ –æ–¥–Ω–æ–º –ø–æ–¥—Ä—è–¥—á–∏–∫–µ</p>
          </div>
          <p>–ò–ò –¥–æ–ª–∂–µ–Ω —É—Å–∏–ª–∏–≤–∞—Ç—å –±–∏–∑–Ω–µ—Å, –∞ –Ω–µ –ø—Ä–∏–≤—è–∑—ã–≤–∞—Ç—å –µ–≥–æ –∫ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—é.</p>
        </div>
      ),
    },
    {
      question: "–í—ã —Ä–∞–±–æ—Ç–∞–µ—Ç–µ —Å –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º–∏ –∏ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏?",
      answer: (
        <div className="space-y-3">
          <p>–î–∞.</p>
          <p>–ò—Å–ø–æ–ª—å–∑—É–µ–º: –∑–∞–∫—Ä—ã—Ç—ã–µ –∫–æ–Ω—Ç—É—Ä—ã, –ª–æ–∫–∞–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏, —Ä–µ—à–µ–Ω–∏—è –±–µ–∑ –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –≤ –æ–±–ª–∞–∫–æ.</p>
          <p>–í—Å–µ –¥–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –Ω–∞ –≤–∞—à–µ–º —Å–µ—Ä–≤–µ—Ä–µ –ª–∏–±–æ –Ω–∞ –∑–∞—â–∏—â—ë–Ω–Ω–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–µ –≤ –†–§.</p>
          <p>–≠—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ –≤–∞–∂–Ω–æ –¥–ª—è: –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞, —Ñ–∏–Ω–∞–Ω—Å–æ–≤, –ª–æ–≥–∏—Å—Ç–∏–∫–∏, –¥–æ–≥–æ–≤–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç—ã.</p>
        </div>
      ),
    },
    {
      question: "–° —á–µ–≥–æ –ø—Ä–∞–≤–∏–ª—å–Ω–µ–µ –Ω–∞—á–∞—Ç—å –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –ò–ò?",
      answer: (
        <div className="space-y-3">
          <p>–ù–µ —Å –≤—ã–±–æ—Ä–∞ –±–æ—Ç–∞ –∏ –Ω–µ —Å –ø–æ–∫—É–ø–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞.</p>
          <p className="font-medium">–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫:</p>
          <div className="space-y-1">
            <p>‚Ä¢ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤</p>
            <p>‚Ä¢ —Ä–∞—Å—á—ë—Ç —ç–∫–æ–Ω–æ–º–∏–∫–∏</p>
            <p>‚Ä¢ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è</p>
            <p>‚Ä¢ –ø–∏–ª–æ—Ç</p>
            <p>‚Ä¢ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ</p>
          </div>
          <p>–ò–º–µ–Ω–Ω–æ —Ç–∞–∫ –ò–ò —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –±–∏–∑–Ω–µ—Å–∞, –∞ –Ω–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–º.</p>
          <p>üëâ –ï—Å–ª–∏ —Å–æ–º–Ω–µ–≤–∞–µ—Ç–µ—Å—å ‚Äî –Ω–∞—á–Ω–∏—Ç–µ —Å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏.</p>
        </div>
      ),
    },
  ];

  return (
    <section ref={ref} className="relative py-10 md:py-16 lg:py-20 bg-gradient-to-b from-gray-100 to-gray-50 section-gradient-bottom-bg overflow-hidden">
      <div className="container mx-auto px-4">
        <h2 className={`section-title text-center leading-tight ${getAnimationClass('animate-fade-in-up', 'animate-mobile-slide-up')}`}>
          –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã, <span className="font-semibold">—á–µ—Å—Ç–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã</span>
        </h2>

        <div className={`max-w-4xl mx-auto ${getStaggeredClass(1, 'animate-fade-in-up')}`}>
          <Accordion type="single" collapsible className="space-y-4">
            {faqs.map((faq, index) => (
              <AccordionItem
                key={index}
                value={`item-${index}`}
                className="border-b border-border pb-3"
              >
                <AccordionTrigger className="text-left text-base font-medium text-foreground hover:text-primary transition-colors duration-200 rounded-xl px-2 -mx-2">
                  <span>{faq.question}</span>
                </AccordionTrigger>
                <AccordionContent className="text-base text-muted-foreground leading-relaxed pt-3">
                  {faq.answer}
                  <div className="mt-4">
                    <Button size="sm" onClick={scrollToContact}>
                      <span className="inline-flex items-center gap-2">
                        –†–∞–∑–æ–±—Ä–∞—Ç—å –º–æ–π –ø—Ä–æ—Ü–µ—Å—Å
                        <ArrowRight className="h-4 w-4" strokeWidth={1.5} />
                      </span>
                    </Button>
                  </div>
                </AccordionContent>
              </AccordionItem>
            ))}
          </Accordion>
        </div>
      </div>
    </section>
  );
};

export default FAQ;
